(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,t(e.microbitFs={}))})(this,function(e){'use strict';var _e=Number.isInteger,be=String.prototype,Pe=Math.floor,Ie=Math.ceil,Ae=Math.max,Te=Math.pow,Fe=Math.min;function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return s(e)||d(e,t)||c(e,t)||u()}function s(e){if(Array.isArray(e))return e}function d(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i["return"]||i["return"]()}finally{if(a)throw o}}return n}}function c(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(t){s=!0,a=t},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e){return 255&-e.reduce(function(e,t){return e+t},0)}function y(e,t){var n=e.reduce(function(e,t){return e+t},0),r=t.reduce(function(e,t){return e+t},0);return 255&-(n+r)}function m(e){return e.toString(16).toUpperCase().padStart(2,"0")}function E(e){var t=new go;return t.encode(e)}function S(e){var t=new co;return t.decode(e)}function x(e){return e.replace(":::::::::::::::::::::::::::::::::::::::::::\n","")}function _(e){var t=e.length+4;t%16&&(t+=16-t%16);var n=new Uint8Array(t).fill(0);return n[0]=77,n[1]=80,n[2]=255&e.length,n[3]=255&e.length>>8,n.set(e,4),n}function b(t){var n;if("string"==typeof t){var r=x(t);n=io.fromHex(r)}else n=t;var a=n.slicePad(e.AppendedBlock.StartAdd,2,255);return a[0]===77&&a[1]===80}function P(e){if(0!=e.length%2)throw new Error("Hex string \""+e+"\" is not divisible by 2.");var t=e.match(/.{1,2}/g);return t?new Uint8Array(t.map(function(t){var n=Number.isNaN,r=parseInt(t,16);if(n(r))throw new Error("There were some non-hex characters in \""+e+"\".");else return r})):new Uint8Array}function I(e){return e.toString(16).toUpperCase().padStart(2,"0")}function A(e){return e.reduce(function(e,t){return e+t.toString(16).toUpperCase().padStart(2,"0")},"")}function T(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t);return e.reduce(function(e,t){return n.set(t,e),e+t.length},0),n}function F(e){return!!(e>=Bo.Data&&e<=Bo.StartLinearAddress||e>=Bo.BlockStart&&e<=Bo.OtherData)}function v(e){var t=e.reduce(function(e,t){return e+t},0);return 255&-t}function O(e,t,n){if(0>e||65535<e)throw new Error("Record ("+t+") address out of range: "+e);var r=n.length;if(r>32)throw new Error("Record ("+t+") data has too many bytes ("+r+").");if(!F(t))throw new Error("Record type '"+t+"' is not valid.");var a=T([new Uint8Array([r,e>>8,255&e,t]),n]),o=A(a),l=I(v(a));return":"+o+l}function R(e){if(e.length<Yo)throw new Error("Record length too small: "+e);if(e.length>zo)throw new Error("Record length is too large: "+e);if(":"!==e[0])throw new Error("Record does not start with a \":\": "+e);return!0}function B(e){R(e);var t=Do+2+4,n=e.slice(t,t+2),r=parseInt(n,16);if(!F(r))throw new Error("Record type '"+n+"' from record '"+e+"' is not valid.");return r}function L(t){try{return P(t.slice(Co,-2))}catch(n){throw new Error("Could not parse Intel Hex record \""+t+"\": "+n.message)}}function D(t){R(t);var n;try{n=P(t.substring(1))}catch(n){throw new Error("Could not parse Intel Hex record \""+t+"\": "+n.message)}var r=n[0],a=1,o=(n[a]<<8)+n[a+1],l=a+2,i=n[l],s=l+1,d=s+r,c=n.slice(s,d),g=n[d],u=d+1;if(n.length>u)throw new Error("Parsed record \""+t+"\" is larger than indicated by the byte count."+("\n\tExpected: "+u+"; Length: "+n.length+"."));return{byteCount:r,address:o,recordType:i,data:c,checksum:g}}function M(){return":00000001FF"}function N(e){if(0>e||4294967295<e)throw new Error("Address '"+e+"' for Extended Linear Address record is out of range.");return O(0,Bo.ExtendedLinearAddress,new Uint8Array([255&e>>24,255&e>>16]))}function H(e){if(0>e||65535<e)throw new Error("Board ID out of range when creating Block Start record.");return O(0,Bo.BlockStart,new Uint8Array([255&e>>8,255&e,192,222]))}function C(e){switch(e){case 4:return":0400000BFFFFFFFFF5";case 12:return":0C00000BFFFFFFFFFFFFFFFFFFFFFFFFF5";default:var t=new Uint8Array(e).fill(255);return O(0,Bo.BlockEnd,t);}}function U(e){var t=new Uint8Array(e).fill(255);return O(0,Bo.PaddedData,t)}function Y(e,t){var n=D(e),r=new Uint8Array(n.data.length+4);r[0]=n.data.length,r[1]=n.address>>8,r[2]=255&n.address,r[3]=t,r.set(n.data,4);var a=A(r),o=I(v(r));return":"+a+o}function z(e){var t=L(e);if(2!==t.length||15&t[0]||0!==t[1])throw new Error("Invalid Extended Segment Address record "+e);var n=t[0]<<12;return N(n)}function $(e){var t=e.replace(/\r/g,"").split("\n");return t.filter(Boolean)}function w(e){for(var t=16,n=0,r=0,a=e;r<a.length;r++){var o=a[r],l=(o.length-Yo)/2;if(l>t?(t=l,n=0):l===t&&n++,12<n)break}if(t>32)throw new Error("Intel Hex record data size is too large: "+t);return t}function V(e,t){for(var n=!$o.includes(t),r=H(t),a=N(0),o=a.length,l=r.length,i=C(0).length,s=U(0).length,d=$(e),c=w(d),g=0,u=[];g<d.length;){var h=0,p=B(d[g]);p===Bo.ExtendedLinearAddress?(a=d[g],g++):p===Bo.ExtendedSegmentAddress&&(a=z(d[g]),g++),u.push(a),h+=o+1,u.push(r),h+=l+1,h+=i+1;for(var f=!1;d[g]&&512>=h+d[g].length+1;){var y=d[g++],m=B(y);if(n&&m===Bo.Data)y=Y(y,Bo.CustomData);else if(m===Bo.ExtendedLinearAddress)a=y;else if(m===Bo.ExtendedSegmentAddress)y=z(y),a=y;else if(m===Bo.EndOfFile){f=!0;break}u.push(y),h+=y.length+1}if(f){if(g!==d.length)throw new Error("EoF record found at record "+g+" of "+d.length+" in Board ID "+t+" hex");u.push(C(0)),u.push(M())}else{for(;512-h>2*c;){var y=U(Fe((512-h-(s+1))/2,c));u.push(y),h+=y.length+1}u.push(C((512-h)/2))}}return u.push(""),u.join("\n")}function G(e,t){var n=[],r=0,a=0,o=function(e){r+=e.length+1},l=function(e){n.push(e),o(e)},i=$(e);if(!i.length)return"";var s=B(i[0]);s===Bo.ExtendedLinearAddress?(l(i[0]),a++):s===Bo.ExtendedSegmentAddress?(l(z(i[0])),a++):l(N(0)),l(H(t));for(var d=!$o.includes(t),c=!1;a<i.length;){var g=i[a++],u=B(g);if(u===Bo.Data)l(d?Y(g,Bo.CustomData):g);else if(u===Bo.ExtendedSegmentAddress)l(z(g));else if(u===Bo.ExtendedLinearAddress)l(g);else if(u===Bo.EndOfFile){c=!0;break}}if(a!==i.length)throw new Error("EoF record found at record "+a+" of "+i.length+" in Board ID "+t+" hex ");o(C(0));for(var h=U(0).length+1,p=w(i),f=(512-r%512)%512;f>2*p;){var y=f-h>>1,g=U(Fe(y,p));l(g),f=(512-r%512)%512}return n.push(C(f>>1)),c&&n.push(M()),n.push(""),n.join("\n")}function W(e,t){if(void 0===t&&(t=!1),!e.length)return"";for(var n,r=t?V:G,a=M()+"\n",o=[],l=0;l<e.length-1;l++)n=r(e[l].hex,e[l].boardId),n.endsWith(a)&&(n=n.slice(0,n.length-a.length)),o.push(n);var s=r(e[e.length-1].hex,e[e.length-1].boardId);return o.push(s),s.endsWith(a)||o.push(a),o.join("")}function K(e){if(e.slice(0,":02000004".length)!==":02000004")return!1;for(var t=9;":"!==e[++t]&&t<zo+3;);return!(":0400000A"!==e.slice(t,t+9))}function X(e){var t=$(e);if(!t.length)throw new Error("Empty Universal Hex.");if(B(t[0])!==Bo.ExtendedLinearAddress||B(t[1])!==Bo.BlockStart||B(t[t.length-1])!==Bo.EndOfFile)throw new Error("Universal Hex block format invalid.");for(var n=[Bo.Data,Bo.EndOfFile,Bo.ExtendedSegmentAddress,Bo.StartSegmentAddress],r={},a=0,o=0;o<t.length;o++){var l=t[o],s=B(l);if(n.includes(s))r[a].hex.push(l);else if(s===Bo.CustomData)r[a].hex.push(Y(l,Bo.Data));else if(s===Bo.ExtendedLinearAddress){var d=t[o+1];if(B(d)===Bo.BlockStart){var c=L(d);if(4!==c.length)throw new Error("Block Start record invalid: "+d);a=(c[0]<<8)+c[1],r[a]=r[a]||{boardId:a,lastExtAdd:l,hex:[l]},o++}r[a].lastExtAdd!==l&&(r[a].lastExtAdd=l,r[a].hex.push(l))}}var g=[];return Object.keys(r).forEach(function(e){var t=r[e].hex;t[t.length-1]!==M()&&(t[t.length]=M()),g.push({boardId:r[e].boardId,hex:t.join("\n")+"\n"})}),g}function Z(e,t){var n=e.slicePad(t,4,255);return new DataView(n.buffer).getUint32(0,!0)}function J(e,t){var n=e.slicePad(t,2,255);return new DataView(n.buffer).getUint16(0,!0)}function q(e,t){for(var n=e.slice(t).get(t),r=0;r<n.length&&0!==n[r];)r++;if(r===n.length)return"";var a=n.slice(0,r);return S(a)}function Q(e){for(var t,n=ee(e),r=0,a=wo;r<a.length;r++)if(t=a[r],t.magicHeader===n)return!0;return!1}function ee(e){return Z(e,Lo.MagicValue)}function te(e){for(var t,n=ee(e),r=0,a=wo;r<a.length;r++)if(t=a[r],t.magicHeader===n)return t.deviceVersion;throw new Error("Cannot find device version, unknown UICR Magic value")}function ne(e){for(var t,n=ee(e),r=0,a=wo;r<a.length;r++)if(t=a[r],t.magicHeader===n)return t.flashSize;throw new Error("Cannot find flash size, unknown UICR Magic value")}function re(e){var t=Z(e,Lo.PageSize);return Te(2,t)}function ae(e){return J(e,Lo.StartPage)}function oe(e){return J(e,Lo.PagesUsed)}function le(e){return Z(e,Lo.VersionLocation)}function ie(e){var t=e.slice(268439744);if(!Q(t))throw new Error("Could not find valid MicroPython UICR data.");var n=re(t),r=ne(t),a=ae(t),o=oe(t),l=le(t),i=q(e,l),s=te(t);return{flashPageSize:n,flashSize:r,runtimeStartPage:a,runtimeStartAddress:a*n,runtimeEndUsed:o,runtimeEndAddress:o*n,uicrStartAddress:Lo.MagicValue,uicrEndAddress:Lo.End,versionAddress:l,version:i,deviceVersion:s}}function se(e){var t=io.fromHex(e),n=ie(t),r=t.slice(n.runtimeStartAddress,n.runtimeEndAddress-n.runtimeStartAddress).asHexString().replace(":00000001FF","");return{originalIntelHex:e,originalMemMap:t,uPyIntelHex:r,uPyEndAddress:n.runtimeEndAddress,fsSize:xe(t)}}function de(e){for(var t=[],n=ce(e),r=ue(e),a=n,o=1;a<r;){var l=e.slicePad(a,1,255)[0];(255===l||0===l)&&t.push(o),o++,a+=128}return t}function ce(e){var t=ie(e),n=32256;n+=t.flashPageSize-n%t.flashPageSize,1===t.deviceVersion&&(n+=t.flashPageSize);var r=t.runtimeEndAddress,a=ge(e)-n,o=Ae(r,a);if(o%t.flashPageSize)throw new Error("File system start address from UICR does not align with flash page size.");return o}function ge(t){var n=ie(t),r=b(t)?e.AppendedBlock.StartAdd:n.flashSize;if(1===n.deviceVersion)r-=n.flashPageSize;else if(2===n.deviceVersion)r-=53248;else throw new Error("Unknown device flash map");return r}function ue(e){var t=ie(e);return ge(e)-t.flashPageSize}function he(e){e.set(ue(e),new Uint8Array([253]))}function pe(e,t){return ce(e)+(t-1)*128}function fe(e,t){var n=new Wo(e,t);return n.getFsFileSize()}function ye(e,t,n){if(!t)throw new Error("File has to have a file name.");if(!n.length)throw new Error("File "+t+" has to contain data.");var r=de(e);if(0===r.length)throw new Error("There is no storage space left.");var a=pe(e,r[0]),o=new Wo(t,n),l=o.getFsBytes(r);e.set(a,l),he(e)}function me(e,t,n){void 0===n&&(n=!1);var r="string"==typeof e?io.fromHex(e):e.clone();var a=ie(r);return Object.keys(t).forEach(function(e){ye(r,e,t[e])}),n?r.slicePad(0,a.flashSize):r.asHexString()+"\n"}function Ee(e,t){var n=e.originalMemMap.clone();return Object.keys(t).forEach(function(e){ye(n,e,t[e])}),e.uPyIntelHex+n.slice(e.uPyEndAddress).asHexString()+"\n"}function Se(e){var t="string"==typeof e?io.fromHex(e):e.clone();for(var n=ce(t),r=ue(t),a={},o=[],l=n,i=1;l<r;){var s=t.slicePad(l,128,255),d=s[0];255!==d&&0!==d&&253!==d&&(a[i]=s,254===d&&o.push(i)),i++,l+=128}for(var c={},g=0,u=o;g<u.length;g++){var h=u[g],p=a[h],f=p[1],y=p[2],m=3+y,E=S(p.slice(3,m));if(c.hasOwnProperty(E))throw new Error("Found multiple files named: "+E+".");c[E]=new Uint8Array(0);for(var x=p,_=h,b=Object.keys(a).length+1;b--;){var P=x[127];if(255===P){c[E]=uo(c[E],x.slice(m,1+f));break}else c[E]=uo(c[E],x.slice(m,127));var I=a[P];if(!I)throw new Error("Chunk "+_+" points to unused index "+P+".");if(I[0]!==_)throw new Error("Chunk index "+P+" did not link to previous chunk index "+_+".");x=I,_=P,m=1}if(0>=b)throw new Error("Malformed file chunks did not link correctly.")}return c}function xe(e){var t=ie(e),n=ce(e),r=ge(e);return r-n-t.flashPageSize}var ve=function(e){try{return!!e()}catch(t){return!0}},ke=!ve(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Oe=!1,Re=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),Be=t(function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),Le=Be.version,De=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Me=function(e){if(!De(e))throw TypeError(e+" is not an object!");return e},Ne=Re.document,He=De(Ne)&&De(Ne.createElement),Ce=function(e){return He?Ne.createElement(e):{}},Ue=!ke&&!ve(function(){return 7!=Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a}),Ye=function(e,t){if(!De(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!De(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!De(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!De(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},ze=Object.defineProperty,$e=ke?Object.defineProperty:function(e,t,n){if(Me(e),t=Ye(t,!0),Me(n),Ue)try{return ze(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},f={f:$e},we=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},je=ke?function(e,t,n){return f.f(e,t,we(1,n))}:function(e,t,n){return e[t]=n,e},Ve={}.hasOwnProperty,Ge=function(e,t){return Ve.call(e,t)},We=0,Ke=Math.random(),Xe=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++We+Ke).toString(36))},Ze=t(function(e){var t=Re["__core-js_shared__"]||(Re["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=n===void 0?{}:n)})("versions",[]).push({version:Be.version,mode:"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),Je=Ze("native-function-to-string",Function.toString),qe=t(function(e){var t=Xe("src"),n="toString",r=(""+Je).split(n);Be.inspectSource=function(e){return Je.call(e)},(e.exports=function(e,n,a,o){var l="function"==typeof a;l&&(Ge(a,"name")||je(a,"name",n));e[n]===a||(l&&(Ge(a,t)||je(a,t,e[n]?""+e[n]:r.join(n+""))),e===Re?e[n]=a:o?e[n]?e[n]=a:je(e,n,a):(delete e[n],je(e,n,a)))})(Function.prototype,n,function(){return"function"==typeof this&&this[t]||Je.call(this)})}),Qe=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},et=function(e,t,n){return(Qe(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,a){return e.call(t,n,r,a)}:function(){return e.apply(t,arguments)}},tt="prototype",nt=function(e,t,n){var r,a,o,l,i=e&nt.F,s=e&nt.G,d=e&nt.S,c=e&nt.P,g=e&nt.B,u=s?Re:d?Re[t]||(Re[t]={}):(Re[t]||{})[tt],h=s?Be:Be[t]||(Be[t]={}),p=h[tt]||(h[tt]={});for(r in s&&(n=t),n)a=!i&&u&&void 0!==u[r],o=(a?u:n)[r],l=g&&a?et(o,Re):c&&"function"==typeof o?et(Function.call,o):o,u&&qe(u,r,o,e&nt.U),h[r]!=o&&je(h,r,l),c&&p[r]!=o&&(p[r]=o)};Re.core=Be,nt.F=1,nt.G=2,nt.S=4,nt.P=8,nt.B=16,nt.W=32,nt.U=64,nt.R=128;for(var rt,ot=nt,lt=Xe("typed_array"),it=Xe("view"),st=!!(Re.ArrayBuffer&&Re.DataView),dt=st,ct=0,gt=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];ct<9;)(rt=Re[gt[ct++]])?(je(rt.prototype,lt,!0),je(rt.prototype,it,!0)):dt=!1;var ut={ABV:st,CONSTR:dt,TYPED:lt,VIEW:it},ht=function(e,t,n){for(var r in t)qe(e,r,t[r],n);return e},pt=function(e,t,n,r){if(!(e instanceof t)||r!==void 0&&r in e)throw TypeError(n+": incorrect invocation!");return e},ft=function(e){return isNaN(e=+e)?0:(0<e?Pe:Ie)(e)},yt=function(e){return 0<e?Fe(ft(e),9007199254740991):0},mt=function(e){if(e===void 0)return 0;var t=ft(e),n=yt(t);if(t!==n)throw RangeError("Wrong length!");return n},Et={}.toString,St=function(e){return Et.call(e).slice(8,-1)},xt=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==St(e)?e.split(""):Object(e)},_t=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e},bt=function(e){return xt(_t(e))},Pt=function(e,t){return e=ft(e),0>e?Ae(e+t,0):Fe(e,t)},It=function(e){return function(t,n,r){var a,o=bt(t),l=yt(o.length),i=Pt(r,l);if(e&&n!=n){for(;l>i;)if(a=o[i++],a!=a)return!0;}else for(;l>i;i++)if((e||i in o)&&o[i]===n)return e||i||0;return!e&&-1}},At=Ze("keys"),Tt=function(e){return At[e]||(At[e]=Xe(e))},Ft=It(!1),vt=Tt("IE_PROTO"),kt=function(e,t){var n,r=bt(e),a=0,o=[];for(n in r)n!=vt&&Ge(r,n)&&o.push(n);for(;t.length>a;)Ge(r,n=t[a++])&&(~Ft(o,n)||o.push(n));return o},Ot=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rt=Ot.concat("length","prototype"),Bt=Object.getOwnPropertyNames||function(e){return kt(e,Rt)},Lt={f:Bt},Dt=function(e){return Object(_t(e))},Mt=function(e){for(var t=Dt(this),n=yt(t.length),r=arguments.length,a=Pt(1<r?arguments[1]:void 0,n),o=2<r?arguments[2]:void 0,l=void 0===o?n:Pt(o,n);l>a;)t[a++]=e;return t},Nt=t(function(e){var t=Ze("wks"),n=Re.Symbol,r="function"==typeof n,a=e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Xe)("Symbol."+e))};a.store=t}),Ht=f.f,Ct=Nt("toStringTag"),Ut=function(e,t,n){e&&!Ge(e=n?e:e.prototype,Ct)&&Ht(e,Ct,{configurable:!0,value:t})},Yt=t(function(e,t){function n(t,n,r){var a,o,l,d=Array(r),g=8*r-n-1,u=(1<<g)-1,h=u>>1,p=23===n?T(2,-24)-T(2,-77):0,f=0,y=0>t||0===t&&0>1/t?1:0;for(t=A(t),t!=t||t===P?(o=t==t?0:1,a=u):(a=F(v(t)/k),1>t*(l=T(2,-a))&&(a--,l*=2),t+=1<=a+h?p/l:p*T(2,1-h),2<=t*l&&(a++,l/=2),a+h>=u?(o=0,a=u):1<=a+h?(o=(t*l-1)*T(2,n),a+=h):(o=t*T(2,h-1)*T(2,n),a=0));8<=n;d[f++]=255&o,o/=256,n-=8);for(a=a<<n|o,g+=n;0<g;d[f++]=255&a,a/=256,g-=8);return d[--f]|=128*y,d}function r(t,n,r){var a,o=8*r-n-1,l=(1<<o)-1,d=l>>1,c=o-7,g=r-1,u=t[g--],h=127&u;for(u>>=7;0<c;h=256*h+t[g],g--,c-=8);for(a=h&(1<<-c)-1,h>>=-c,c+=n;0<c;a=256*a+t[g],g--,c-=8);if(0===h)h=1-d;else{if(h===l)return a?NaN:u?-P:P;a+=T(2,n),h-=d}return(u?-1:1)*a*T(2,h-n)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function l(e){return[255&e,255&e>>8]}function i(e){return[255&e,255&e>>8,255&e>>16,255&e>>24]}function s(e){return n(e,52,8)}function d(e){return n(e,23,4)}function c(e,t,n){p(e.prototype,t,{get:function(){return this[n]}})}function g(e,t,n,r){var a=mt(+n);if(a+t>e[D])throw b("Wrong index!");var o=e[L]._b,l=a+e[M],i=o.slice(l,l+t);return r?i:i.reverse()}function u(e,t,n,r,a,o){var l=mt(+n);if(l+t>e[D])throw b("Wrong index!");for(var s=e[L]._b,d=l+e[M],c=r(+a),g=0;g<t;g++)s[d+g]=c[o?g:t-g-1]}var h=Lt.f,p=f.f,y="ArrayBuffer",m="DataView",E="prototype",S=Re[y],x=Re[m],_=Re.Math,b=Re.RangeError,P=Re.Infinity,I=S,A=_.abs,T=Te,F=Pe,v=_.log,k=_.LN2,O="buffer",R="byteLength",B="byteOffset",L=ke?"_b":O,D=ke?"_l":R,M=ke?"_o":B;if(!ut.ABV)S=function(e){pt(this,S,y);var t=mt(e);this._b=Mt.call(Array(t),0),this[D]=t},x=function(e,t,n){pt(this,x,m),pt(e,S,m);var r=e[D],a=ft(t);if(0>a||a>r)throw b("Wrong offset!");if(n=void 0===n?r-a:yt(n),a+n>r)throw b("Wrong length!");this[L]=e,this[M]=a,this[D]=n},ke&&(c(S,R,"_l"),c(x,O,"_b"),c(x,R,"_l"),c(x,B,"_o")),ht(x[E],{getInt8:function(e){return g(this,1,e)[0]<<24>>24},getUint8:function(e){return g(this,1,e)[0]},getInt16:function(e){var t=g(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=g(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(g(this,4,e,arguments[1]))},getUint32:function(e){return a(g(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(g(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(g(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){u(this,1,e,o,t)},setUint8:function(e,t){u(this,1,e,o,t)},setInt16:function(e,t){u(this,2,e,l,t,arguments[2])},setUint16:function(e,t){u(this,2,e,l,t,arguments[2])},setInt32:function(e,t){u(this,4,e,i,t,arguments[2])},setUint32:function(e,t){u(this,4,e,i,t,arguments[2])},setFloat32:function(e,t){u(this,4,e,d,t,arguments[2])},setFloat64:function(e,t){u(this,8,e,s,t,arguments[2])}});else{if(!ve(function(){S(1)})||!ve(function(){new S(-1)})||ve(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){S=function(e){return pt(this,S),new I(mt(e))};for(var N,H=S[E]=I[E],C=h(I),U=0;C.length>U;)(N=C[U++])in S||je(S,N,I[N]);H.constructor=S}var Y=new x(new S(2)),z=x[E].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),(Y.getInt8(0)||!Y.getInt8(1))&&ht(x[E],{setInt8:function(e,t){z.call(this,e,t<<24>>24)},setUint8:function(e,t){z.call(this,e,t<<24>>24)}},!0)}Ut(S,y),Ut(x,m),je(x[E],ut.VIEW,!0),t[y]=S,t[m]=x}),zt=Nt("toStringTag"),$t="Arguments"==St(function(){return arguments}()),wt=function(e,t){try{return e[t]}catch(t){}},jt=function(e){var t,n,r;return e===void 0?"Undefined":null===e?"Null":"string"==typeof(n=wt(t=Object(e),zt))?n:$t?St(t):"Object"==(r=St(t))&&"function"==typeof t.callee?"Arguments":r},Vt={},Gt=Nt("iterator"),Wt=Array.prototype,Kt=function(e){return e!==void 0&&(Vt.Array===e||Wt[Gt]===e)},Xt=Object.keys||function(e){return kt(e,Ot)},Zt=ke?Object.defineProperties:function(e,t){Me(e);for(var n,r=Xt(t),a=r.length,o=0;a>o;)f.f(e,n=r[o++],t[n]);return e},Jt=Re.document,qt=Jt&&Jt.documentElement,Qt=Tt("IE_PROTO"),en=function(){},tn="prototype",nn=function(){var e,t=Ce("iframe"),n=Ot.length,r="<",a=">";for(t.style.display="none",qt.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),nn=e.F;n--;)delete nn[tn][Ot[n]];return nn()},rn=Object.create||function(e,t){var n;return null===e?n=nn():(en[tn]=Me(e),n=new en,en[tn]=null,n[Qt]=e),void 0===t?n:Zt(n,t)},an=Tt("IE_PROTO"),on=Object.prototype,ln=Object.getPrototypeOf||function(e){return e=Dt(e),Ge(e,an)?e[an]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?on:null},sn=Nt("iterator"),dn=Be.getIteratorMethod=function(e){if(e!=null)return e[sn]||e["@@iterator"]||Vt[jt(e)]},cn=Array.isArray||function(e){return"Array"==St(e)},gn=Nt("species"),un=function(e){var t;return cn(e)&&(t=e.constructor,"function"==typeof t&&(t===Array||cn(t.prototype))&&(t=void 0),De(t)&&(t=t[gn],null===t&&(t=void 0))),void 0===t?Array:t},hn=function(e,t){return new(un(e))(t)},pn=function(e,t){var n=1==e,r=4==e,a=6==e,o=t||hn;return function(t,l,i){for(var s,d,c=Dt(t),g=xt(c),u=et(l,i,3),h=yt(g.length),p=0,f=n?o(t,h):2==e?o(t,0):void 0;h>p;p++)if((5==e||a||p in g)&&(s=g[p],d=u(s,p,c),e))if(n)f[p]=d;else if(d)switch(e){case 3:return!0;case 5:return s;case 6:return p;case 2:f.push(s);}else if(r)return!1;return a?-1:3==e||r?r:f}},fn=Nt("species"),yn=function(e,t){var n,r=Me(e).constructor;return r===void 0||(n=Me(r)[fn])==null?t:Qe(n)},mn=Nt("unscopables"),En=Array.prototype;En[mn]==null&&je(En,mn,{});var Sn=function(e){En[mn][e]=!0},xn=function(e,t){return{value:t,done:!!e}},_n={};je(_n,Nt("iterator"),function(){return this});var bn=function(e,t,n){e.prototype=rn(_n,{next:we(1,n)}),Ut(e,t+" Iterator")},Pn=Nt("iterator"),In=!([].keys&&"next"in[].keys()),An="keys",Tn="values",Fn=function(){return this},vn=function(e,t,n,r,a,o,l){bn(n,t,r);var i,s,d,c=function(e){return!In&&e in p?p[e]:e===An?function(){return new n(this,e)}:e===Tn?function(){return new n(this,e)}:function(){return new n(this,e)}},g=t+" Iterator",u=a==Tn,h=!1,p=e.prototype,f=p[Pn]||p["@@iterator"]||a&&p[a],y=f||c(a),m=a?u?c("entries"):y:void 0,E="Array"==t?p.entries||f:f;if(E&&(d=ln(E.call(new e)),d!==Object.prototype&&d.next&&(Ut(d,g,!0),"function"!=typeof d[Pn]&&je(d,Pn,Fn))),u&&f&&f.name!==Tn&&(h=!0,y=function(){return f.call(this)}),(In||h||!p[Pn])&&je(p,Pn,y),Vt[t]=y,Vt[g]=Fn,a)if(i={values:u?y:c(Tn),keys:o?y:c(An),entries:m},l)for(s in i)s in p||qe(p,s,i[s]);else ot(ot.P+ot.F*(In||h),t,i);return i},kn=vn(Array,"Array",function(e,t){this._t=bt(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,xn(1)):"keys"==t?xn(0,n):"values"==t?xn(0,e[n]):xn(0,[n,e[n]])},"values");Vt.Arguments=Vt.Array,Sn("keys"),Sn("values"),Sn("entries");var On=Nt("iterator"),Rn=!1;try{var Bn=[7][On]();Bn["return"]=function(){Rn=!0},Array.from(Bn,function(){throw 2})}catch(t){}var Ln=function(e,t){if(!t&&!Rn)return!1;var n=!1;try{var r=[7],a=r[On]();a.next=function(){return{done:n=!0}},r[On]=function(){return a},e(r)}catch(t){}return n},Dn=Nt("species"),Mn=function(e){var t=Re[e];ke&&t&&!t[Dn]&&f.f(t,Dn,{configurable:!0,get:function(){return this}})},Nn=[].copyWithin||function(e,t){var n=Dt(this),r=yt(n.length),a=Pt(e,r),o=Pt(t,r),l=2<arguments.length?arguments[2]:void 0,i=Fe((l===void 0?r:Pt(l,r))-o,r-a),s=1;for(o<a&&a<o+i&&(s=-1,o+=i-1,a+=i-1);0<i--;)o in n?n[a]=n[o]:delete n[a],a+=s,o+=s;return n},Hn={}.propertyIsEnumerable,Cn={f:Hn},Un=Object.getOwnPropertyDescriptor,Yn=ke?Un:function(e,t){if(e=bt(e),t=Ye(t,!0),Ue)try{return Un(e,t)}catch(t){}return Ge(e,t)?we(!Cn.f.call(e,t),e[t]):void 0},zn={f:Yn},$n=t(function(e){if(ke){var t=Oe,n=Re,r=ve,a=ot,o=ut,l=Yt,i=pt,s=je,d=ht,c=yt,g=mt,u=Pt,h=Ye,p=Ge,y=jt,m=De,E=Dt,S=Lt.f,x=Xe,_=Nt,b=pn,P=It,I=yn,A=kn,T=f,F=zn,v=T.f,k=F.f,O=n.RangeError,R=n.TypeError,B=n.Uint8Array,L="ArrayBuffer",D="Shared"+L,M="BYTES_PER_ELEMENT",N="prototype",H=Array[N],C=l.ArrayBuffer,U=l.DataView,Y=b(0),z=b(2),$=b(3),w=b(4),j=b(5),V=b(6),G=P(!0),W=P(!1),K=A.values,X=A.keys,Z=A.entries,J=H.lastIndexOf,q=H.reduce,Q=H.reduceRight,ee=H.join,te=H.sort,ne=H.slice,re=H.toString,ae=H.toLocaleString,oe=_("iterator"),le=_("toStringTag"),ie=x("typed_constructor"),se=x("def_constructor"),de=o.CONSTR,ce=o.TYPED,ge=o.VIEW,ue="Wrong length!",he=b(1,function(e,t){return Ee(I(e,e[se]),t)}),pe=r(function(){return 1===new B(new Uint16Array([1]).buffer)[0]}),fe=!!B&&!!B[N].set&&r(function(){new B(1).set({})}),ye=function(e,t){var n=ft(e);if(0>n||n%t)throw O("Wrong offset!");return n},me=function(e){if(m(e)&&ce in e)return e;throw R(e+" is not a typed array!")},Ee=function(e,t){if(!(m(e)&&ie in e))throw R("It is not a typed array constructor!");return new e(t)},Se=function(e,t){return xe(I(e,e[se]),t)},xe=function(e,t){for(var n=0,r=t.length,a=Ee(e,r);r>n;)a[n]=t[n++];return a},_e=function(e,t,n){v(e,t,{get:function(){return this._d[n]}})},be=function(e){var t,n,r,a,o,l,s=E(e),d=arguments.length,g=1<d?arguments[1]:void 0,u=g!==void 0,h=dn(s);if(h!=null&&!Kt(h)){for(l=h.call(s),r=[],t=0;!(o=l.next()).done;t++)r.push(o.value);s=r}for(u&&2<d&&(g=et(g,arguments[2],2)),t=0,n=c(s.length),a=Ee(this,n);n>t;t++)a[t]=u?g(s[t],t):s[t];return a},Ie=function(){for(var e=0,t=arguments.length,n=Ee(this,t);t>e;)n[e]=arguments[e++];return n},Ae=!!B&&r(function(){ae.call(new B(1))}),Te=function(){return ae.apply(Ae?ne.call(me(this)):me(this),arguments)},Fe={copyWithin:function(e,t){return Nn.call(me(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return w(me(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(){return Mt.apply(me(this),arguments)},filter:function(e){return Se(this,z(me(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return j(me(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return V(me(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){Y(me(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return W(me(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return G(me(this),e,1<arguments.length?arguments[1]:void 0)},join:function(){return ee.apply(me(this),arguments)},lastIndexOf:function(){return J.apply(me(this),arguments)},map:function(e){return he(me(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(){return q.apply(me(this),arguments)},reduceRight:function(){return Q.apply(me(this),arguments)},reverse:function(){for(var e,t=this,n=me(t).length,r=Pe(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t},some:function(e){return $(me(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return te.call(me(this),e)},subarray:function(e,t){var n=me(this),r=n.length,a=u(e,r);return new(I(n,n[se]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,c((t===void 0?r:u(t,r))-a))}},Be=function(e,t){return Se(this,ne.call(me(this),e,t))},Le=function(e){me(this);var t=ye(arguments[1],1),n=this.length,r=E(e),a=c(r.length),o=0;if(a+t>n)throw O(ue);for(;o<a;)this[t+o]=r[o++]},Me={entries:function(){return Z.call(me(this))},keys:function(){return X.call(me(this))},values:function(){return K.call(me(this))}},Ne=function(e,t){return m(e)&&e[ce]&&"symbol"!=typeof t&&t in e&&+t+""==t+""},He=function(e,t){return Ne(e,t=h(t,!0))?we(2,e[t]):k(e,t)},Ce=function(e,t,n){return Ne(e,t=h(t,!0))&&m(n)&&p(n,"value")&&!p(n,"get")&&!p(n,"set")&&!n.configurable&&(!p(n,"writable")||n.writable)&&(!p(n,"enumerable")||n.enumerable)?(e[t]=n.value,e):v(e,t,n)};de||(F.f=He,T.f=Ce),a(a.S+a.F*!de,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ce}),r(function(){re.call({})})&&(re=ae=function(){return ee.call(this)});var Ue=d({},Fe);d(Ue,Me),s(Ue,oe,Me.values),d(Ue,{slice:Be,set:Le,constructor:function(){},toString:re,toLocaleString:Te}),_e(Ue,"buffer","b"),_e(Ue,"byteOffset","o"),_e(Ue,"byteLength","l"),_e(Ue,"length","e"),v(Ue,le,{get:function(){return this[ce]}}),e.exports=function(e,l,d,u){u=!!u;var h=e+(u?"Clamped":"")+"Array",p=n[h],f=p||{},E=p&&ln(p),x=!p||!o.ABV,_={},b=p&&p[N],P=function(t,n){var r=t._d;return r.v["get"+e](n*l+r.o,pe)},I=function(t,n,r){var a=t._d;u&&(r=0>(r=Math.round(r))?0:255<r?255:255&r),a.v["set"+e](n*l+a.o,r,pe)},A=function(e,t){v(e,t,{get:function(){return P(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};x?(p=d(function(e,t,n,r){i(e,p,h,"_d");var a,o,d,u,f=0,E=0;if(!m(t))d=g(t),o=d*l,a=new C(o);else if(t instanceof C||(u=y(t))==L||u==D){a=t,E=ye(n,l);var S=t.byteLength;if(void 0===r){if(S%l)throw O(ue);if(o=S-E,0>o)throw O(ue)}else if(o=c(r)*l,o+E>S)throw O(ue);d=o/l}else return ce in t?xe(p,t):be.call(p,t);for(s(e,"_d",{b:a,o:E,l:o,e:d,v:new U(a)});f<d;)A(e,f++)}),b=p[N]=rn(Ue),s(b,"constructor",p)):(!r(function(){p(1)})||!r(function(){new p(-1)})||!Ln(function(e){new p,new p(null),new p(1.5),new p(e)},!0))&&(p=d(function(e,t,n,r){i(e,p,h);var a;return m(t)?t instanceof C||(a=y(t))==L||a==D?void 0===r?void 0===n?new f(t):new f(t,ye(n,l)):new f(t,ye(n,l),r):ce in t?xe(p,t):be.call(p,t):new f(g(t))}),Y(E===Function.prototype?S(f):S(f).concat(S(E)),function(e){e in p||s(p,e,f[e])}),p[N]=b,!t&&(b.constructor=p));var T=b[oe],F=!!T&&("values"==T.name||T.name==null),k=Me.values;s(p,ie,!0),s(b,ce,h),s(b,ge,!0),s(b,se,p),(u?new p(1)[le]!=h:!(le in b))&&v(b,le,{get:function(){return h}}),_[h]=p,a(a.G+a.W+a.F*(p!=f),_),a(a.S,h,{BYTES_PER_ELEMENT:l}),a(a.S+a.F*r(function(){f.of.call(p,1)}),h,{from:be,of:Ie}),M in b||s(b,M,l),a(a.P,h,Fe),Mn(h),a(a.P+a.F*fe,h,{set:Le}),a(a.P+a.F*!F,h,Me),t||b.toString==re||(b.toString=re),a(a.P+a.F*r(function(){new p(1).slice()}),h,{slice:Be}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!r(function(){b.toLocaleString.call([1,2])})),h,{toLocaleString:Te}),Vt[h]=F?T:k,t||F||s(b,oe,k)}}else e.exports=function(){}});$n("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}}),ot(ot.P,"Array",{fill:Mt}),Sn("fill");var wn=function(e){return function(t,n){var r,o,d=_t(t)+"",s=ft(n),i=d.length;return 0>s||s>=i?e?"":void 0:(r=d.charCodeAt(s),55296>r||56319<r||s+1===i||56320>(o=d.charCodeAt(s+1))||57343<o?e?d.charAt(s):r:e?d.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}},jn=wn(!0),at=function(e,t,n){return t+(n?jn(e,t).length:1)},Vn=RegExp.prototype.exec,Gn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==jt(e))throw new TypeError("RegExp#exec called on incompatible receiver");return Vn.call(e,t)},Wn=function(){var e=Me(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Kn=RegExp.prototype.exec,Xn=be.replace,Zn=Kn,Jn="lastIndex",qn=function(){var e=/a/,t=/b*/g;return Kn.call(e,"a"),Kn.call(t,"a"),0!==e[Jn]||0!==t[Jn]}(),Qn=/()??/.exec("")[1]!==void 0;(qn||Qn)&&(Zn=function(e){var t,n,r,a,o=this;return Qn&&(n=new RegExp("^"+o.source+"$(?!\\s)",Wn.call(o))),qn&&(t=o[Jn]),r=Kn.call(o,e),qn&&r&&(o[Jn]=o.global?r.index+r[0].length:t),Qn&&r&&1<r.length&&Xn.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r});var er=Zn;ot({target:"RegExp",proto:!0,forced:er!==/./.exec},{exec:er});var tr=Nt("species"),nr=!ve(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),rr=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),ar=function(e,t,n){var r=Nt(e),a=!ve(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)}),o=a?!ve(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[tr]=function(){return n}),n[r](""),!t}):void 0;if(!a||!o||"replace"===e&&!nr||"split"===e&&!rr){var l=/./[r],i=n(_t,r,""[e],function(e,t,n,r,o){return t.exec===er?a&&!o?{done:!0,value:l.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),s=i[0],d=i[1];qe(String.prototype,e,s),je(RegExp.prototype,r,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}},or=function(e){return e===void 0?e:e+""};ar("replace",2,function(e,t,n,r){function a(e,t,r,a,o,l){var i=r+e.length,s=a.length,d=/\$([$&`']|\d\d?)/g;return void 0!==o&&(o=Dt(o),d=/\$([$&`']|\d\d?|<[^>]*>)/g),n.call(l,d,function(l,d){var c;switch(d.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(i);case"<":c=o[d.slice(1,-1)];break;default:var g=+d;if(0==g)return l;if(g>s){var n=Pe(g/10);return 0===n?l:n<=s?void 0===a[n-1]?d.charAt(1):a[n-1]+d.charAt(1):l}c=a[g-1];}return void 0===c?"":c})}return[function(r,a){var o=e(this),l=r==null?void 0:r[t];return l===void 0?n.call(o+"",r,a):l.call(r,o,a)},function(e,t){var o=r(n,e,this,t);if(o.done)return o.value;var l=Me(e),s=this+"",d="function"==typeof t;d||(t=t+"");var c=l.global;if(c){var g=l.unicode;l.lastIndex=0}for(var u,h=[];(u=Gn(l,s),null!==u)&&!(h.push(u),!c);){var p=u[0]+"";""==p&&(l.lastIndex=at(s,yt(l.lastIndex),g))}for(var f="",y=0,m=0;m<h.length;m++){u=h[m];for(var E=u[0]+"",S=Ae(Fe(ft(u.index),s.length),0),x=[],_=1;_<u.length;_++)x.push(or(u[_]));var b=u.groups;if(d){var P=[E].concat(x,S,s);b!==void 0&&P.push(b);var I=t.apply(void 0,P)+""}else I=a(E,s,S,x,b,t);S>=y&&(f+=s.slice(y,S)+I,y=S+E.length)}return f+s.slice(y)}]});var lr=function(t,n,e,r){try{return r?n(Me(e)[0],e[1]):n(e)}catch(n){var a=t["return"];throw void 0!==a&&Me(a.call(t)),n}},ir=t(function(e){var t={},n={},r=e.exports=function(e,r,a,o,l){var i,s,d,c,g=l?function(){return e}:dn(e),u=et(a,o,r?2:1),h=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(Kt(g)){for(i=yt(e.length);i>h;h++)if(c=r?u(Me(s=e[h])[0],s[1]):u(e[h]),c===t||c===n)return c;}else for(d=g.call(e);!(s=d.next()).done;)if(c=lr(d,u,s.value,r),c===t||c===n)return c};r.BREAK=t,r.RETURN=n}),sr=t(function(e){var t=Xe("meta"),n=f.f,r=0,a=Object.isExtensible||function(){return!0},o=!ve(function(){return a(Object.preventExtensions({}))}),l=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},i=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!De(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Ge(e,t)){if(!a(e))return"F";if(!n)return"E";l(e)}return e[t].i},getWeak:function(e,n){if(!Ge(e,t)){if(!a(e))return!0;if(!n)return!1;l(e)}return e[t].w},onFreeze:function(e){return o&&i.NEED&&a(e)&&!Ge(e,t)&&l(e),e}}}),dr=sr.KEY,cr=sr.NEED,gr=sr.fastKey,ur=sr.getWeak,hr=sr.onFreeze,pr=function(e,t){if(!De(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},fr=f.f,yr=sr.fastKey,mr=ke?"_s":"size",Er=function(e,t){var n,r=yr(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n},Sr={getConstructor:function(e,t,n,r){var a=e(function(e,o){pt(e,a,t,"_i"),e._t=t,e._i=rn(null),e._f=void 0,e._l=void 0,e[mr]=0,null!=o&&ir(o,n,e[r],e)});return ht(a.prototype,{clear:function(){for(var e=pr(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[mr]=0},delete:function(e){var n=pr(this,t),r=Er(n,e);if(r){var a=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=a),a&&(a.p=o),n._f==r&&(n._f=a),n._l==r&&(n._l=o),n[mr]--}return!!r},forEach:function(e){pr(this,t);for(var n,r=et(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!Er(pr(this,t),e)}}),ke&&fr(a.prototype,"size",{get:function(){return pr(this,t)[mr]}}),a},def:function(e,t,n){var r,a,o=Er(e,t);return o?o.v=n:(e._l=o={i:a=yr(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},!e._f&&(e._f=o),r&&(r.n=o),e[mr]++,"F"!==a&&(e._i[a]=o)),e},getEntry:Er,setStrong:function(e,t,n){vn(e,t,function(e,n){this._t=pr(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?xn(0,n.k):"values"==t?xn(0,n.v):xn(0,[n.k,n.v]):(e._t=void 0,xn(1))},n?"entries":"values",!n,!0),Mn(t)}},xr=function(e,t){if(Me(e),!De(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},_r={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=et(Function.call,zn.f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return xr(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:xr},br=_r.set,Pr=function(e,t,n){var r,a=t.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&De(r)&&br&&br(e,r),e},Ir=function(e,t,n,r,a,o){var l=Re[e],i=l,s=a?"set":"add",d=i&&i.prototype,c={},g=function(e){var t=d[e];qe(d,e,"delete"==e?function(e){return(!o||De(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return(!o||De(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!De(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"!=typeof i||!(o||d.forEach&&!ve(function(){new i().entries().next()})))i=r.getConstructor(t,e,a,s),ht(i.prototype,n),sr.NEED=!0;else{var u=new i,h=u[s](o?{}:-0,1)!=u,p=ve(function(){u.has(1)}),f=Ln(function(e){new i(e)}),y=!o&&ve(function(){for(var e=new i,t=5;t--;)e[s](t,t);return!e.has(-0)});f||(i=t(function(t,n){pt(t,i,e);var r=Pr(new l,t,i);return null!=n&&ir(n,a,r[s],r),r}),i.prototype=d,d.constructor=i),(p||y)&&(g("delete"),g("has"),a&&g("get")),(y||h)&&g(s),o&&d.clear&&delete d.clear}return Ut(i,e),c[e]=i,ot(ot.G+ot.W+ot.F*(i!=l),c),o||r.setStrong(i,e,a),i},Ar="Set",Tr=Ir(Ar,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return Sr.def(pr(this,Ar),e=0===e?0:e,e)}},Sr);ar("match",1,function(e,t,r,a){return[function(n){var r=e(this),a=n==null?void 0:n[t];return a===void 0?new RegExp(n)[t](r+""):a.call(n,r)},function(e){var t=a(r,e,this);if(t.done)return t.value;var o=Me(e),l=this+"";if(!o.global)return Gn(o,l);var i=o.unicode;o.lastIndex=0;for(var s,d=[],c=0;null!==(s=Gn(o,l));){var g=s[0]+"";d[c]=g,""==g&&(o.lastIndex=at(l,yt(o.lastIndex),i)),c++}return 0===c?null:d}]});var Fr=function(e,t,n){t in e?f.f(e,t,we(0,n)):e[t]=n};ot(ot.S+ot.F*!Ln(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,a,o=Dt(e),l="function"==typeof this?this:Array,i=arguments.length,s=1<i?arguments[1]:void 0,d=void 0!==s,c=0,g=dn(o);if(d&&(s=et(s,2<i?arguments[2]:void 0,2)),null!=g&&!(l==Array&&Kt(g)))for(a=g.call(o),n=new l;!(r=a.next()).done;c++)Fr(n,c,d?lr(a,s,[r.value,c],!0):r.value);else for(t=yt(o.length),n=new l(t);t>c;c++)Fr(n,c,d?s(o[c],c):o[c]);return n.length=c,n}});var vr=[].sort,kr=[1,2,3];ot(ot.P+ot.F*(ve(function(){kr.sort(void 0)})||!ve(function(){kr.sort(null)})||!function(e,t){return!!e&&ve(function(){t?e.call(null,function(){},1):e.call(null)})}(vr)),"Array",{sort:function(e){return e===void 0?vr.call(Dt(this)):vr.call(Dt(this),Qe(e))}});(function(e,t){var n=(Be.Object||{})[e]||Object[e],r={};r[e]=t(n),ot(ot.S+ot.F*ve(function(){n(1)}),"Object",r)})("keys",function(){return function(e){return Xt(Dt(e))}});var Or={f:Nt},Rr=f.f,Br=function(e){var t=Be.Symbol||(Be.Symbol=Re.Symbol||{});"_"==e.charAt(0)||e in t||Rr(t,e,{value:Or.f(e)})};Br("asyncIterator");var Lr=Object.getOwnPropertySymbols,Dr={f:Lr},Mr=function(e){var t=Xt(e),n=Dr.f;if(n)for(var r,a=n(e),o=Cn.f,l=0;a.length>l;)o.call(e,r=a[l++])&&t.push(r);return t},Nr=Lt.f,Hr={}.toString,Cr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ur=function(e){try{return Nr(e)}catch(t){return Cr.slice()}},Yr={f:function(e){return Cr&&"[object Window]"==Hr.call(e)?Ur(e):Nr(bt(e))}},zr=sr.KEY,$r=zn.f,wr=f.f,jr=Yr.f,Vr=Re.Symbol,Gr=Re.JSON,Wr=Gr&&Gr.stringify,Kr="prototype",Xr=Nt("_hidden"),Zr=Nt("toPrimitive"),Jr={}.propertyIsEnumerable,qr=Ze("symbol-registry"),Qr=Ze("symbols"),ea=Ze("op-symbols"),ta=Object[Kr],na="function"==typeof Vr&&!!Dr.f,ra=Re.QObject,aa=!ra||!ra[Kr]||!ra[Kr].findChild,oa=ke&&ve(function(){return 7!=rn(wr({},"a",{get:function(){return wr(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=$r(ta,t);r&&delete ta[t],wr(e,t,n),r&&e!==ta&&wr(ta,t,r)}:wr,la=function(e){var t=Qr[e]=rn(Vr[Kr]);return t._k=e,t},ia=na&&"symbol"==typeof Vr.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Vr},sa=function(e,t,n){return e===ta&&sa(ea,t,n),Me(e),t=Ye(t,!0),Me(n),Ge(Qr,t)?(n.enumerable?(Ge(e,Xr)&&e[Xr][t]&&(e[Xr][t]=!1),n=rn(n,{enumerable:we(0,!1)})):(!Ge(e,Xr)&&wr(e,Xr,we(1,{})),e[Xr][t]=!0),oa(e,t,n)):wr(e,t,n)},da=function(e,t){Me(e);for(var n,r=Mr(t=bt(t)),a=0,o=r.length;o>a;)sa(e,n=r[a++],t[n]);return e},ca=function(e){var t=Jr.call(this,e=Ye(e,!0));return(this!==ta||!Ge(Qr,e)||Ge(ea,e))&&(!(t||!Ge(this,e)||!Ge(Qr,e)||Ge(this,Xr)&&this[Xr][e])||t)},ga=function(e,t){if(e=bt(e),t=Ye(t,!0),e!==ta||!Ge(Qr,t)||Ge(ea,t)){var n=$r(e,t);return n&&Ge(Qr,t)&&!(Ge(e,Xr)&&e[Xr][t])&&(n.enumerable=!0),n}},ua=function(e){for(var t,n=jr(bt(e)),r=[],a=0;n.length>a;)Ge(Qr,t=n[a++])||t==Xr||t==zr||r.push(t);return r},ha=function(e){for(var t,n=e===ta,r=jr(n?ea:bt(e)),a=[],o=0;r.length>o;)Ge(Qr,t=r[o++])&&(!n||Ge(ta,t))&&a.push(Qr[t]);return a};na||(Vr=function(){if(this instanceof Vr)throw TypeError("Symbol is not a constructor!");var e=Xe(0<arguments.length?arguments[0]:void 0),t=function(n){this===ta&&t.call(ea,n),Ge(this,Xr)&&Ge(this[Xr],e)&&(this[Xr][e]=!1),oa(this,e,we(1,n))};return ke&&aa&&oa(ta,e,{configurable:!0,set:t}),la(e)},qe(Vr[Kr],"toString",function(){return this._k}),zn.f=ga,f.f=sa,Lt.f=Yr.f=ua,Cn.f=ca,Dr.f=ha,ke&&!Oe&&qe(ta,"propertyIsEnumerable",ca,!0),Or.f=function(e){return la(Nt(e))}),ot(ot.G+ot.W+ot.F*!na,{Symbol:Vr});for(var pa=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],fa=0;pa.length>fa;)Nt(pa[fa++]);for(var ya=Xt(Nt.store),ma=0;ya.length>ma;)Br(ya[ma++]);ot(ot.S+ot.F*!na,"Symbol",{for:function(e){return Ge(qr,e+="")?qr[e]:qr[e]=Vr(e)},keyFor:function(e){if(!ia(e))throw TypeError(e+" is not a symbol!");for(var t in qr)if(qr[t]===e)return t},useSetter:function(){aa=!0},useSimple:function(){aa=!1}}),ot(ot.S+ot.F*!na,"Object",{create:function(e,t){return t===void 0?rn(e):da(rn(e),t)},defineProperty:sa,defineProperties:da,getOwnPropertyDescriptor:ga,getOwnPropertyNames:ua,getOwnPropertySymbols:ha});var Ea=ve(function(){Dr.f(1)});ot(ot.S+ot.F*Ea,"Object",{getOwnPropertySymbols:function(e){return Dr.f(Dt(e))}}),Gr&&ot(ot.S+ot.F*(!na||ve(function(){var e=Vr();return"[null]"!=Wr([e])||"{}"!=Wr({a:e})||"{}"!=Wr(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(De(t)||void 0!==e)&&!ia(e))return cn(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ia(t))return t}),r[1]=t,Wr.apply(Gr,r)}}),Vr[Kr][Zr]||je(Vr[Kr],Zr,Vr[Kr].valueOf),Ut(Vr,"Symbol"),Ut(Math,"Math",!0),Ut(Re.JSON,"JSON",!0);for(var Sa=Nt("iterator"),xa=Nt("toStringTag"),_a=Vt.Array,ba={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Pa=Xt(ba),Ia=0;Ia<Pa.length;Ia++){var Aa,Ta=Pa[Ia],Fa=ba[Ta],va=Re[Ta],ka=va&&va.prototype;if(ka&&(ka[Sa]||je(ka,Sa,_a),ka[xa]||je(ka,xa,Ta),Vt[Ta]=_a,Fa))for(Aa in kn)ka[Aa]||qe(ka,Aa,kn[Aa],!0)}var Oa=wn(!0);vn(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Oa(t,n),this._i+=e.length,{value:e,done:!1})});var Ra=Ir("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=Sr.getEntry(pr(this,"Map"),e);return t&&t.v},set:function(e,t){return Sr.def(pr(this,"Map"),0===e?0:e,t)}},Sr,!0),Ba="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF",La="["+Ba+"]",Da="\u200B\x85",Ma=RegExp("^"+La+La+"*"),Na=RegExp(La+La+"*$"),Ha=function(e,t,n){var r={},a=ve(function(){return!!Ba[e]()||Da[e]()!=Da}),o=r[e]=a?t(Ca):Ba[e];n&&(r[n]=o),ot(ot.P+ot.F*a,"String",r)},Ca=Ha.trim=function(e,t){return e=_t(e)+"",1&t&&(e=e.replace(Ma,"")),2&t&&(e=e.replace(Na,"")),e},Ua=Lt.f,Ya=zn.f,za=f.f,$a=Ha.trim,wa="Number",ja=Re[wa],Va=ja,Ga=ja.prototype,Wa=St(rn(Ga))==wa,Ka=("trim"in be),Xa=function(e){var t=Ye(e,!1);if("string"==typeof t&&2<t.length){t=Ka?t.trim():$a(t,3);var n,r,a,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN;}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t;}for(var s,d=t.slice(2),c=0,g=d.length;c<g;c++)if(s=d.charCodeAt(c),48>s||s>a)return NaN;return parseInt(d,r)}}return+t};if(!ja(" 0o1")||!ja("0b1")||ja("+0x1")){ja=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof ja&&(Wa?ve(function(){Ga.valueOf.call(n)}):St(n)!=wa)?Pr(new Va(Xa(t)),n,ja):Xa(t)};for(var Za,Ja=ke?Ua(Va):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),qa=0;Ja.length>qa;qa++)Ge(Va,Za=Ja[qa])&&!Ge(ja,Za)&&za(ja,Za,Ya(Va,Za));ja.prototype=Ga,Ga.constructor=ja,qe(Re,wa,ja)}ot(ot.S,"Number",{isInteger:function(e){return!De(e)&&isFinite(e)&&Pe(e)===e}}),ke&&"g"!=/./g.flags&&f.f(RegExp.prototype,"flags",{configurable:!0,get:Wn});var Qa=/./.toString,eo=function(e){qe(RegExp.prototype,"toString",e,!0)};ve(function(){return"/a/b"!=Qa.call({source:"a",flags:"b"})})?eo(function(){var e=Me(this);return"/".concat(e.source,"/","flags"in e?e.flags:!ke&&e instanceof RegExp?Wn.call(e):void 0)}):Qa.name!="toString"&&eo(function(){return Qa.call(this)});({})[Nt("toStringTag")]="z",qe(Object.prototype,"toString",function(){return"[object "+jt(this)+"]"},!0);var to=function(e){var t=_t(this)+"",r="",a=ft(e);if(0>a||a==1/0)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r},no=function(e,t,n,r){var a=_t(e)+"",o=a.length,l=void 0===n?" ":n+"",i=yt(t);if(i<=o||""==l)return a;var s=i-o,d=to.call(l,Ie(s/l.length));return d.length>s&&(d=d.slice(0,s)),r?d+a:a+d},ro=Re.navigator,ao=ro&&ro.userAgent||"",oo=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(ao);ot(ot.P+ot.F*oo,"String",{padStart:function(e){return no(this,e,1<arguments.length?arguments[1]:void 0,!0)}});var lo=/:([0-9A-Fa-f]{8,})([0-9A-Fa-f]{2})(?:\r\n|\r|\n|)/g;_e=_e||function(e){return"number"==typeof e&&isFinite(e)&&Pe(e)===e};var io=function(){function e(t){if(r(this,e),this._blocks=new Map,t&&"function"==typeof t[Symbol.iterator]){var a,o=h(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(!(l instanceof Array)||2!==l.length)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined");this.set(l[0],l[1])}}catch(e){o.e(e)}finally{o.f()}}else if("object"===n(t))for(var i,s=Object.keys(t),d=0,c=s;d<c.length;d++)i=c[d],this.set(parseInt(i),t[i]);else if(void 0!==t&&null!==t)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined")}return o(e,[{key:"set",value:function(e,t){if(!_e(e))throw new Error("Address passed to MemoryMap is not an integer");if(0>e)throw new Error("Address passed to MemoryMap is negative");if(!(t instanceof Uint8Array))throw new Error("Bytes passed to MemoryMap are not an Uint8Array");return this._blocks.set(e,t)}},{key:"get",value:function(e){return this._blocks.get(e)}},{key:"clear",value:function(){return this._blocks.clear()}},{key:"delete",value:function(e){return this._blocks.delete(e)}},{key:"entries",value:function(){return this._blocks.entries()}},{key:"forEach",value:function(e,t){return this._blocks.forEach(e,t)}},{key:"has",value:function(e){return this._blocks.has(e)}},{key:"keys",value:function(){return this._blocks.keys()}},{key:"values",value:function(){return this._blocks.values()}},{key:Symbol.iterator,value:function(){return this._blocks[Symbol.iterator]()}},{key:"join",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0,n=Array.from(this.keys()).sort(function(e,t){return e-t}),r=new Map,a=-1,o=-1,s=0,d=n.length;s<d;s++){var l=n[s],c=this.get(n[s]).length;if(o===l&&o-a<t)r.set(a,r.get(a)+c),o+=c;else if(o<=l)r.set(l,c),a=l,o=l+c;else throw new Error("Overlapping data around address 0x"+l.toString(16))}for(var g,u,h=new e,p=-1,f=0,y=n.length;f<y;f++)u=n[f],r.has(u)&&(g=new Uint8Array(r.get(u)),h.set(u,g),p=u),g.set(this.get(u),u-p);return h}},{key:"paginate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1024,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;if(0>=t)throw new Error("Page size must be greater than zero");for(var r,a=new e,o=Array.from(this.keys()).sort(function(e,t){return e-t}),s=0,d=o.length;s<d;s++)for(var l=o[s],c=this.get(l),g=c.length,u=l-l%t;u<l+g;u+=t){r=a.get(u),r||(r=new Uint8Array(t),r.fill(n),a.set(u,r));var h=u-l,p=void 0;0>=h?(p=c.subarray(0,Fe(t+h,g)),r.set(p,-h)):(p=c.subarray(h,h+Fe(t,g-h)),r.set(p,0))}return a}},{key:"getUint32",value:function(e,t){for(var n=Array.from(this.keys()),r=0,a=n.length;r<a;r++){var o=n[r],l=this.get(o),s=l.length;if(o<=e&&e+4<=o+s)return new DataView(l.buffer,e-o,4).getUint32(0,t)}}},{key:"asHexString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16,t=0,n=-65536,r=[];if(0>=e)throw new Error("Size of record must be greater than zero");else if(255<e)throw new Error("Size of record must be less than 256");for(var a=new Uint8Array(6),o=new Uint8Array(4),s=Array.from(this.keys()).sort(function(e,t){return e-t}),d=0,c=s.length;d<c;d++){var l=s[d],g=this.get(l);if(!(g instanceof Uint8Array))throw new Error("Block at offset "+l+" is not an Uint8Array");if(0>l)throw new Error("Block at offset "+l+" has a negative thus invalid address");var u=g.length;if(u){if(l>n+65535&&(n=l-l%65536,t=0,a[0]=2,a[1]=0,a[2]=0,a[3]=4,a[4]=n>>24,a[5]=n>>16,r.push(":"+Array.prototype.map.call(a,m).join("")+m(p(a)))),l<n+t)throw new Error("Block starting at 0x"+l.toString(16)+" overlaps with a previous block.");t=l%65536;var h=0,f=l+u;if(4294967295<f)throw new Error("Data cannot be over 0xFFFFFFFF");for(;n+t<f;){65535<t&&(n+=65536,t=0,a[0]=2,a[1]=0,a[2]=0,a[3]=4,a[4]=n>>24,a[5]=n>>16,r.push(":"+Array.prototype.map.call(a,m).join("")+m(p(a))));for(var E=-1;65536>t&&E;)if(E=Fe(e,f-n-t,65536-t),E){o[0]=E,o[1]=t>>8,o[2]=t,o[3]=0;var S=g.subarray(h,h+E);r.push(":"+Array.prototype.map.call(o,m).join("")+Array.prototype.map.call(S,m).join("")+m(y(o,S))),h+=E,t+=E}}}}return r.push(":00000001FF"),r.join("\n")}},{key:"clone",value:function(){var t,n=new e,r=h(this);try{for(r.s();!(t=r.n()).done;){var a=l(t.value,2),o=a[0],i=a[1];n.set(o,new Uint8Array(i))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"slice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0;if(0>n)throw new Error("Length of the slice cannot be negative");var r,a=new e,o=h(this);try{for(o.s();!(r=o.n()).done;){var i=l(r.value,2),s=i[0],d=i[1],c=d.length;if(s+c>=t&&s<t+n){var g=Ae(t,s),u=Fe(t+n,s+c),p=u-g,f=g-s;0<p&&a.set(g,d.subarray(f,f+p))}}}catch(e){o.e(e)}finally{o.f()}return a}},{key:"slicePad",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;if(0>t)throw new Error("Length of the slice cannot be negative");var r,a=new Uint8Array(t).fill(n),o=h(this);try{for(o.s();!(r=o.n()).done;){var i=l(r.value,2),s=i[0],d=i[1],c=d.length;if(s+c>=e&&s<e+t){var g=Ae(e,s),u=Fe(e+t,s+c),p=u-g,f=g-s;0<p&&a.set(d.subarray(f,f+p),g-e)}}}catch(e){o.e(e)}finally{o.f()}return a}},{key:"contains",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),a=r[0],o=r[1],s=o.length,d=this.slice(a,s).join().get(a);if(!d||d.length!==s)return!1;for(var c in o)if(o[c]!==d[c])return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"size",get:function(){return this._blocks.size}}],[{key:"fromHex",value:function(t){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0,a=new e,o=0,i=0,s=0;for(lo.lastIndex=0;null!==(n=lo.exec(t));){if(i++,o!==n.index)throw new Error("Malformed hex file: Could not parse between characters "+o+" and "+n.index+" (\""+t.substring(o,Fe(n.index,o+16)).trim()+"\")");o=lo.lastIndex;var d=n,c=l(d,3),g=c[1],u=c[2],h=new Uint8Array(g.match(/[\da-f]{2}/gi).map(function(e){return parseInt(e,16)})),f=h[0];if(f+4!==h.length)throw new Error("Mismatched record length at record "+i+" ("+n[0].trim()+"), expected "+f+" data bytes but actual length is "+(h.length-4));var y=p(h);if(parseInt(u,16)!==y)throw new Error("Checksum failed at record "+i+" ("+n[0].trim()+"), should be "+y.toString(16));var E=(h[1]<<8)+h[2],S=h[3],x=h.subarray(4);if(0===S){if(a.has(s+E))throw new Error("Duplicated data at record "+i+" ("+n[0].trim()+")");if(65536<E+x.length)throw new Error("Data at record "+i+" ("+n[0].trim()+") wraps over 0xFFFF. This would trigger ambiguous behaviour. Please restructure your data so that for every record the data offset plus the data length do not exceed 0xFFFF.");a.set(s+E,x)}else{if(0!==E)throw new Error("Record "+i+" ("+n[0].trim()+") must have 0000 as data offset.");switch(S){case 1:if(o!==t.length)throw new Error("There is data after an EOF record at record "+i);return a.join(r);case 2:s=(x[0]<<8)+x[1]<<4;break;case 3:break;case 4:s=(x[0]<<8)+x[1]<<16;break;case 5:break;default:throw new Error("Invalid record type 0x"+m(S)+" at record "+i+" (should be between 0x00 and 0x05)");}}}if(i)throw new Error("No EOF record at end of file");else throw new Error("Malformed .hex file, could not parse any registers")}},{key:"overlapMemoryMaps",value:function(e){var t,n=new Set,r=h(e);try{for(r.s();!(t=r.n()).done;){var a,o=l(t.value,2),s=o[1],d=h(s);try{for(d.s();!(a=d.n()).done;){var c=l(a.value,2),g=c[0],u=c[1];n.add(g),n.add(g+u.length)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){r.e(e)}finally{r.f()}for(var p=Array.from(n.values()).sort(function(e,t){return e-t}),f=new Map,y=function(t){var n,r=p[t],a=p[t+1],o=[],i=h(e);try{for(i.s();!(n=i.n()).done;){var s=l(n.value,2),d=s[0],c=s[1],g=Array.from(c.keys()).reduce(function(e,t){return t>r?e:Ae(e,t)},-1);if(-1!==g){var u=c.get(g),y=r-g;y<u.length&&o.push([d,u.subarray(y,a-g)])}}}catch(e){i.e(e)}finally{i.f()}o.length&&f.set(r,o)},m=0,E=p.length-1;m<E;m++)y(m);return f}},{key:"flattenOverlaps",value:function(t){return new e(Array.from(t.entries()).map(function(e){var t=l(e,2),n=t[0],r=t[1];return[n,r[r.length-1][1]]}))}},{key:"fromPaddedUint8Array",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:64;if(!(t instanceof Uint8Array))throw new Error("Bytes passed to fromPaddedUint8Array are not an Uint8Array");for(var a,o=new e,i=0,s=-1,d=0,c=!1,g=t.length,l=0;l<g;l++)a=t[l],a===n?(i++,i>=r&&(-1!==s&&o.set(d,t.subarray(d,s+1)),c=!0)):(c&&(c=!1,d=l),s=l,i=0);return c||-1===s||o.set(d,t.subarray(d,g)),o}}]),e}(),so=t(function(e){function t(){}function n(){}(function(){var o=String.fromCharCode;function e(e,t){t=t||1/0;for(var n,r=e.length,a=null,o=[],l=0;l<r;l++){if(n=e.charCodeAt(l),!(55295<n&&57344>n))a&&(-1<(t-=3)&&o.push(239,191,189),a=null);else if(a){if(56320>n){-1<(t-=3)&&o.push(239,191,189),a=n;continue}else n=65536|(a-55296<<10|n-56320),a=null;}else if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}else if(l+1===r){-1<(t-=3)&&o.push(239,191,189);continue}else{a=n;continue}if(128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else if(2097152>n){if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error("Invalid code point")}return o}function r(e,t,n){var r="",l="";n=Fe(e.length,n||1/0),t=t||0;for(var s=t;s<n;s++)127>=e[s]?(r+=a(l)+o(e[s]),l=""):l+="%"+e[s].toString(16);return r+a(l)}function a(e){try{return decodeURIComponent(e)}catch(e){return o(65533)}}t.prototype.encode=function(t){var n;return n="undefined"==typeof Uint8Array?e(t):new Uint8Array(e(t)),n},n.prototype.decode=function(e){return r(e,0,e.length)}})(),e&&(e.exports.TextDecoderLite=n,e.exports.TextEncoderLite=t)}),co=so.TextDecoderLite,go=so.TextEncoderLite,uo=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},ho=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};(function(e){e[e.StartAdd=253952]="StartAdd",e[e.Length=8192]="Length",e[e.EndAdd=262144]="EndAdd"})(e.AppendedBlock||(e.AppendedBlock={}));var po=Cn.f,fo=function(e){return function(t){for(var n,r=bt(t),a=Xt(r),o=a.length,l=0,s=[];o>l;)n=a[l++],(!ke||po.call(r,n))&&s.push(e?[n,r[n]]:r[n]);return s}},yo=fo(!0);ot(ot.S,"Object",{entries:function(e){return yo(e)}});var mo=fo(!1);ot(ot.S,"Object",{values:function(e){return mo(e)}});var Eo=Nt("match"),So=function(e){var t;return De(e)&&((t=e[Eo])===void 0?"RegExp"==St(e):!!t)},xo=function(e,t,n){if(So(t))throw TypeError("String#"+n+" doesn't accept regex!");return _t(e)+""},_o=Nt("match"),bo=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[_o]=!1,!"/./"[e](t)}catch(e){}}return!0},Po="includes";ot(ot.P+ot.F*bo(Po),"String",{includes:function(e){return!!~xo(this,e,Po).indexOf(e,1<arguments.length?arguments[1]:void 0)}});var Io="".endsWith;ot(ot.P+ot.F*bo("endsWith"),"String",{endsWith:function(e){var t=xo(this,e,"endsWith"),n=1<arguments.length?arguments[1]:void 0,r=yt(t.length),a=n===void 0?r:Fe(yt(n),r),o=e+"";return Io.call(t,o,a)}});var Ao=It(!0);ot(ot.P,"Array",{includes:function(e){return Ao(this,e,1<arguments.length?arguments[1]:void 0)}}),Sn("includes");var To=[].push,Fo="split",vo="length",ko="lastIndex",Oo=4294967295,Ro=!ve(function(){RegExp(Oo,"y")});ar("split",2,function(e,t,n,r){var a;return a="c"=="abbc"[Fo](/(b)*/)[1]||4!="test"[Fo](/(?:)/,-1)[vo]||2!="ab"[Fo](/(?:ab)*/)[vo]||4!="."[Fo](/(.?)(.?)/)[vo]||1<"."[Fo](/()()/)[vo]||""[Fo](/.?/)[vo]?function(e,t){var r=this+"";if(void 0===e&&0===t)return[];if(!So(e))return n.call(r,e,t);for(var a,o,l,i=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,c=void 0===t?Oo:t>>>0,g=new RegExp(e.source,s+"g");(a=er.call(g,r))&&(o=g[ko],!(o>d&&(i.push(r.slice(d,a.index)),1<a[vo]&&a.index<r[vo]&&To.apply(i,a.slice(1)),l=a[0][vo],d=o,i[vo]>=c)));)g[ko]===a.index&&g[ko]++;return d===r[vo]?(l||!g.test(""))&&i.push(""):i.push(r.slice(d)),i[vo]>c?i.slice(0,c):i}:"0"[Fo](void 0,0)[vo]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),l=null==n?void 0:n[t];return void 0===l?a.call(o+"",n,r):l.call(n,o,r)},function(t,o){var l=r(a,t,this,o,a!==n);if(l.done)return l.value;var s=Me(t),d=this+"",c=yn(s,RegExp),g=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Ro?"y":"g"),h=new c(Ro?s:"^(?:"+s.source+")",u),f=void 0===o?Oo:o>>>0;if(0===f)return[];if(0===d.length)return null===Gn(h,d)?[d]:[];for(var y=0,m=0,E=[];m<d.length;){h.lastIndex=Ro?m:0;var S,x=Gn(h,Ro?d:d.slice(m));if(null===x||(S=Fe(yt(h.lastIndex+(Ro?0:m)),d.length))===y)m=at(d,m,g);else{if(E.push(d.slice(y,m)),E.length===f)return E;for(var _=1;_<=x.length-1;_++)if(E.push(x[_]),E.length===f)return E;m=y=S}}return E.push(d.slice(y)),E}]}),ot(ot.S,"Number",{isNaN:function(e){return e!=e}});var Bo;(function(e){e[e.Data=0]="Data",e[e.EndOfFile=1]="EndOfFile",e[e.ExtendedSegmentAddress=2]="ExtendedSegmentAddress",e[e.StartSegmentAddress=3]="StartSegmentAddress",e[e.ExtendedLinearAddress=4]="ExtendedLinearAddress",e[e.StartLinearAddress=5]="StartLinearAddress",e[e.BlockStart=10]="BlockStart",e[e.BlockEnd=11]="BlockEnd",e[e.PaddedData=12]="PaddedData",e[e.CustomData=13]="CustomData",e[e.OtherData=14]="OtherData"})(Bo||(Bo={}));var Lo,Do=":".length,Mo=2,No=4,Ho=2,Co=0+Do+Mo+No+Ho,Uo=0,Yo=Do+Mo+No+Ho+Uo+2,zo=Yo-Uo+64,$o=[39168,39169],wo=[{deviceVersion:1,magicHeader:401518716,flashSize:262144},{deviceVersion:2,magicHeader:1206825084,flashSize:524288}];(function(e){e[e.MagicValue=268439552+128+64]="MagicValue",e[e.EndMarker=e.MagicValue+4]="EndMarker",e[e.PageSize=e.EndMarker+4]="PageSize",e[e.StartPage=e.PageSize+4]="StartPage",e[e.PagesUsed=e.StartPage+2]="PagesUsed",e[e.Delimiter=e.PagesUsed+2]="Delimiter",e[e.VersionLocation=e.Delimiter+4]="VersionLocation",e[e.RegionsTerminator=e.VersionLocation+4]="RegionsTerminator",e[e.End=e.RegionsTerminator+4]="End"})(Lo||(Lo={}));var jo=1,Vo=128-jo-1,Go=120,Wo=function(){function e(e,t){if(this._filename=e,this._filenameBytes=E(e),this._filenameBytes.length>Go)throw new Error("File name \""+e+"\" is too long "+("(max "+Go+" characters)."));this._dataBytes=t;var n=this._generateFileHeaderBytes();this._fsDataBytes=new Uint8Array(n.length+this._dataBytes.length+1),this._fsDataBytes.set(n,0),this._fsDataBytes.set(this._dataBytes,n.length),this._fsDataBytes[this._fsDataBytes.length-1]=255}return e.prototype.getFsChunks=function(e){var t=[],n=0,r=0,a=new Uint8Array(128).fill(255);a[0]=254;for(var o=Fe(this._fsDataBytes.length,Vo),l=0;l<o;l++,r++)a[jo+l]=this._fsDataBytes[r];for(t.push(a);r<this._fsDataBytes.length;){if(n++,n>=e.length)throw new Error("Not enough space for the "+this._filename+" file.");var s=t[t.length-1];s[127]=e[n],a=new Uint8Array(128).fill(255),a[0]=e[n-1],o=Fe(this._fsDataBytes.length-r,Vo);for(var l=0;l<o;l++,r++)a[jo+l]=this._fsDataBytes[r];t.push(a)}return t},e.prototype.getFsBytes=function(e){for(var t=this.getFsChunks(e),n=128*t.length,r=new Uint8Array(n),a=0;a<t.length;a++)r.set(t[a],128*a);return r},e.prototype.getFsFileSize=function(){var e=Ie(this._fsDataBytes.length/Vo);return 128*e},e.prototype._generateFileHeaderBytes=function(){var e=1+1+this._filenameBytes.length,t=(e+this._dataBytes.length)%Vo,n=e-this._filenameBytes.length,r=new Uint8Array(e);r[0]=t,r[1]=this._filenameBytes.length;for(var a=n;a<e;++a)r[a]=this._filenameBytes[a-n];return r},e}(),Ko=function(){function e(e,t){if(!e)throw new Error("File was not provided a valid filename.");if(!t)throw new Error("File "+e+" does not have valid content.");if(this.filename=e,"string"==typeof t)this._dataBytes=E(t);else if(t instanceof Uint8Array)this._dataBytes=t;else throw new Error("File data type must be a string or Uint8Array.")}return e.prototype.getText=function(){return S(this._dataBytes)},e.prototype.getBytes=function(){return this._dataBytes},e}(),Xo=function(){function e(e,t){var n=this,r=(void 0===t?{}:t).maxFsSize,a=void 0===r?0:r;this._uPyFsBuilderCache=[],this._files={},this._storageSize=0;var o=Array.isArray(e)?e:[{hex:e,boardId:0}],l=1/0;o.forEach(function(e){if(!e.hex)throw new Error("Invalid MicroPython hex.");var t=se(e.hex),r={originalIntelHex:t.originalIntelHex,originalMemMap:t.originalMemMap,uPyEndAddress:t.uPyEndAddress,uPyIntelHex:t.uPyIntelHex,fsSize:t.fsSize,boardId:e.boardId};n._uPyFsBuilderCache.push(r),l=Fe(l,r.fsSize)}),this.setStorageSize(a||l),this._uPyFsBuilderCache.forEach(function(e){var t=Se(e.originalMemMap);if(Object.keys(t).length)throw new Error("There are files in the MicropythonFsHex constructor hex file input.")})}return e.prototype.create=function(e,t){if(this.exists(e))throw new Error("File already exists.");this.write(e,t)},e.prototype.write=function(e,t){this._files[e]=new Ko(e,t)},e.prototype.append=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");throw new Error("Append operation not yet implemented.")},e.prototype.read=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return this._files[e].getText()},e.prototype.readBytes=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return this._files[e].getBytes()},e.prototype.remove=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");delete this._files[e]},e.prototype.exists=function(e){return this._files.hasOwnProperty(e)},e.prototype.size=function(e){if(!e)throw new Error("Invalid filename: "+e);if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return fe(this._files[e].filename,this._files[e].getBytes())},e.prototype.ls=function(){var e=[];return Object.values(this._files).forEach(function(t){return e.push(t.filename)}),e},e.prototype.setStorageSize=function(e){var t=1/0;if(this._uPyFsBuilderCache.forEach(function(e){t=Fe(t,e.fsSize)}),e>t)throw new Error("Storage size limit provided is larger than size available in the MicroPython hex.");this._storageSize=e},e.prototype.getStorageSize=function(){return this._storageSize},e.prototype.getStorageUsed=function(){var e=this;return Object.values(this._files).reduce(function(t,n){return t+e.size(n.filename)},0)},e.prototype.getStorageRemaining=function(){return this.getStorageSize()-this.getStorageUsed()},e.prototype.importFilesFromIntelHex=function(e,t){var n=this,r=void 0===t?{}:t,a=r.overwrite,o=r.formatFirst,l=Se(e);if(!Object.keys(l).length)throw new Error("Intel Hex does not have any files to import");void 0!==o&&o&&(this._files={});var i=[];if(Object.keys(l).forEach(function(e){!(void 0!==a&&a)&&n.exists(e)?i.push(e):n.write(e,l[e])}),i.length)throw new Error("Files \"\" from hex already exists.");return Object.keys(l)},e.prototype.importFilesFromUniversalHex=function(e,t){var n=this,r=void 0===t?{}:t,a=r.overwrite,o=r.formatFirst;if(!K(e))throw new Error("Universal Hex provided is invalid.");var l=X(e),i=[];l.forEach(function(e){var t=Se(e.hex);if(!Object.keys(t).length)throw new Error("Hex with ID "+e.boardId+" from Universal Hex does not have any files to import");i.push(t)}),i.forEach(function(e){for(var t=i.filter(function(t){return t!==e}),n=function(e,n){t.forEach(function(t){if(!t.hasOwnProperty(e)||!ho(t[e],n))throw new Error("Mismatch in the different Hexes inside the Universal Hex")})},r=0,a=Object.entries(e);r<a.length;r++){var o=a[r],l=o[0],s=o[1];n(l,s)}});var s=i[0];void 0!==o&&o&&(this._files={});var d=[];if(Object.keys(s).forEach(function(e){!(void 0!==a&&a)&&n.exists(e)?d.push(e):n.write(e,s[e])}),d.length)throw new Error("Files \"\" from hex already exists.");return Object.keys(s)},e.prototype.importFilesFromHex=function(e,t){var n=void 0===t?{}:t,r=n.overwrite,a=n.formatFirst,o={overwrite:void 0!==r&&r,formatFirst:void 0!==a&&a};return K(e)?this.importFilesFromUniversalHex(e,o):this.importFilesFromIntelHex(e,o)},e.prototype.getIntelHex=function(e){if(0>this.getStorageRemaining())throw new Error("There is no storage space left.");var t={};if(Object.values(this._files).forEach(function(e){t[e.filename]=e.getBytes()}),void 0===e){if(1===this._uPyFsBuilderCache.length)return Ee(this._uPyFsBuilderCache[0],t);throw new Error("The Board ID must be specified if there are multiple MicroPythons.")}for(var n,r=0,a=this._uPyFsBuilderCache;r<a.length;r++)if(n=a[r],n.boardId===e)return Ee(n,t);throw new Error("Board ID requested not found.")},e.prototype.getIntelHexBytes=function(e){if(0>this.getStorageRemaining())throw new Error("There is no storage space left.");var t={};if(Object.values(this._files).forEach(function(e){t[e.filename]=e.getBytes()}),void 0===e){if(1===this._uPyFsBuilderCache.length)return me(this._uPyFsBuilderCache[0].originalMemMap,t,!0);throw new Error("The Board ID must be specified if there are multiple MicroPythons.")}for(var n,r=0,a=this._uPyFsBuilderCache;r<a.length;r++)if(n=a[r],n.boardId===e)return me(n.originalMemMap,t,!0);throw new Error("Board ID requested not found.")},e.prototype.getUniversalHex=function(){var e=this;if(1===this._uPyFsBuilderCache.length)throw new Error("MicropythonFsHex constructor must have more than one MicroPython Intel Hex to generate a Universal Hex.");var t=[];return this._uPyFsBuilderCache.forEach(function(n){t.push({hex:e.getIntelHex(n.boardId),boardId:n.boardId})}),W(t)},e}();e.MicropythonFsHex=Xo,e.addIntelHexAppendedScript=function(t,n){var r=E(n),a=_(r);if(a.length>e.AppendedBlock.Length)throw new RangeError("Too long");var o=x(t),l=io.fromHex(o);return l.set(e.AppendedBlock.StartAdd,a),l.asHexString()+"\n"},e.cleanseOldHexFormat=x,e.getHexMapUicrData=ie,e.getIntelHexAppendedScript=function(t){var n="",r=io.fromHex(t);if(r.has(e.AppendedBlock.StartAdd)){var a=r.slice(e.AppendedBlock.StartAdd,e.AppendedBlock.Length),o=a.get(e.AppendedBlock.StartAdd);o[0]===77&&o[1]===80&&(n=S(o.slice(4)),n=n.replace(/\0/g,""))}return n},e.getIntelHexUicrData=function(e){return ie(io.fromHex(e))},e.isAppendedScriptPresent=b,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=microbit-fs.umd.min.js.map
